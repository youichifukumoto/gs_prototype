<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>firebase</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js">
    </script>
</head>

<body>
    <container>
        <section>
            <header>
                <!-- 商品の納期 -->
                <p id="delivery">Delivery.2月中〜末</p>
                <div class="item_number">
                    <!-- 商品の品番 -->
                    <h1>2212174</h1>
                    <!-- 商品名 -->
                    <h3>cotton Linen Knit Pullover</h3>
                    <!-- 上代価格 -->
                    <h3>Price．¥8,900</h3>
                </div>
                <!--  品質欄 -->
                <div class="fabric_size">
                    <div class="fabric">
                        <p class="material">FABRIC</p>
                        <!-- 品質表示 -->
                        <p>綿:75% , 麻:25%</p>
                    </div>
                    <!-- サイズ欄 -->
                    <div class="size">
                        <P class="material">SIZE</P>
                        <!-- サイズ表記 -->
                        <P>着丈:55/59cm , 袖丈:24cm , 肩幅:54cm , アームホール:21cm , 裾幅:55cm</P>
                    </div>
                </div>
            </header>
            <!-- 商品動画 -->
            <main>
                <video src="movies/2709702_l.mov " controls autoplay loop muted width="750">
                </video>
            </main>
            <footer>
                <div class="item">
                    <div class="color_nav">
                        <h4>Color Variation</h4>
                        <div>身長 160cm</div>
                    </div>
                    <div class="item_color">
                        <img src="img/92101-1.jpg" alt="商品カラー">
                        <img src="img/92101-2.jpg" alt="商品カラー">
                        <img src="img/92101-3.jpg" alt="商品カラー">
                        <img src="img/92101-4.jpg" alt="商品カラー">
                    </div>
                </div>
                <div class="chat">
                    <P class="chat_koment">商品に関するお問い合わせは、下記チャットよりお客様共有させて頂きます。</P>
                    <!-- 入力場所 -->
                    <label for="name">name</label>
                    <input class="name" placeholder="ニックネーム可" type="text" id="name_1">
                    <textarea name="" placeholder="お問い合わせ内容を入力して下さい。" class="text" id="text_1" cols="65"
                        rows="1"></textarea>
                    <button class="send" id="send_1">▶</button>
                    <!-- データ出力場所 -->
                    <div class="output" id="output_1" style="overflow: auto;height: 180px;"></div>
                </div>
                </div>
            </footer>
        </section>
    </container>

    <container>
        <section>
            <header>
                <!-- 商品の納期 -->
                <p id="delivery">Delivery.2月中〜末</p>
                <div class="item_number">
                    <!-- 商品の品番 -->
                    <h1>2212175</h1>
                    <!-- 商品名 -->
                    <h3>cotton Linen Knit Pullover</h3>
                    <!-- 上代価格 -->
                    <h3>Price．¥9,900</h3>
                </div>
                <!--  品質欄 -->
                <div class="fabric_size">
                    <div class="fabric">
                        <p class="material">FABRIC</p>
                        <!-- 品質表示 -->
                        <p>綿:75% , 麻:25%</p>
                    </div>
                    <!-- サイズ欄 -->
                    <div class="size">
                        <P class="material">SIZE</P>
                        <!-- サイズ表記 -->
                        <P>着丈:55/59cm , 袖丈:24cm , 肩幅:54cm , アームホール:21cm , 裾幅:55cm</P>
                    </div>
                </div>
            </header>
            <!-- 商品動画 -->
            <main>
                <video src="movies/2709811_l.mov" controls autoplay loop muted width="750">
            </main>
            <footer>
                <div class="item">
                    <div class="color_nav">
                        <h4>Color Variation</h4>
                        <div>身長 160cm</div>
                    </div>
                    <div class="item_color">
                        <img src="img/92101-1.jpg" alt="商品カラー">
                        <img src="img/92101-2.jpg" alt="商品カラー">
                        <img src="img/92101-3.jpg" alt="商品カラー">
                        <img src="img/92101-4.jpg" alt="商品カラー">
                    </div>
                </div>
                <div class="chat">
                    <P class="chat_koment">商品に関するお問い合わせは、下記チャットよりお客様共有させて頂きます。</P>
                    <!-- 入力場所 -->
                    <label for="name">name</label>
                    <input class="name" placeholder="ニックネーム可" type="text" id="name_2">
                    <textarea name="" placeholder="お問い合わせ内容を入力して下さい。" class="text" id="text_2" cols="65"
                        rows="1"></textarea>
                    <button class="send" id="send_2">▶</button>
                    <!-- データ出力場所 -->
                    <div class="output" id="output_2" style="overflow: auto;height: 180px;"></div>
                </div>
                </div>
            </footer>
        </section>
    </container>

    <container>
        <section>
            <header>
                <!-- 商品の納期 -->
                <p id="delivery">Delivery.2月中〜末</p>
                <div class="item_number">
                    <!-- 商品の品番 -->
                    <h1>2212176</h1>
                    <!-- 商品名 -->
                    <h3>cotton Linen Knit Pullover</h3>
                    <!-- 上代価格 -->
                    <h3>Price．¥11,900</h3>
                </div>
                <!--  品質欄 -->
                <div class="fabric_size">
                    <div class="fabric">
                        <p class="material">FABRIC</p>
                        <!-- 品質表示 -->
                        <p>綿:75% , 麻:25%</p>
                    </div>
                    <!-- サイズ欄 -->
                    <div class="size">
                        <P class="material">SIZE</P>
                        <!-- サイズ表記 -->
                        <P>着丈:55/59cm , 袖丈:24cm , 肩幅:54cm , アームホール:21cm , 裾幅:55cm</P>
                    </div>
                </div>
            </header>
            <!-- 商品動画 -->
            <main>
                <video src="movies/2709815_l.mov" controls autoplay loop muted width="750">
                </video>
            </main>
            <footer>
                <div class="item">
                    <div class="color_nav">
                        <h4>Color Variation</h4>
                        <div>身長 160cm</div>
                    </div>
                    <div class="item_color">
                        <img src="img/92101-1.jpg" alt="商品カラー">
                        <img src="img/92101-2.jpg" alt="商品カラー">
                        <img src="img/92101-3.jpg" alt="商品カラー">
                        <img src="img/92101-4.jpg" alt="商品カラー">
                    </div>
                </div>
                <div class="chat">
                    <P class="chat_koment">商品に関するお問い合わせは、下記チャットよりお客様共有させて頂きます。</P>
                    <!-- 入力場所 -->
                    <label for="name">name</label>
                    <input class="name" placeholder="ニックネーム可" type="text" id="name_3">
                    <textarea name="" placeholder="お問い合わせ内容を入力して下さい。" class="text" id="text_3" cols="65"
                        rows="1"></textarea>
                    <button class="send" id="send_3">▶</button>
                    <!-- データ出力場所 -->
                    <div class="output" id="output_3" style="overflow: auto;height: 180px;"></div>
                </div>
                </div>
            </footer>
        </section>
    </container>

    <container>
        <section>
            <header>
                <!-- 商品の納期 -->
                <p id="delivery">Delivery.2月中〜末</p>
                <div class="item_number">
                    <!-- 商品の品番 -->
                    <h1>2212177</h1>
                    <!-- 商品名 -->
                    <h3>cotton Linen Knit Pullover</h3>
                    <!-- 上代価格 -->
                    <h3>Price．¥8,900</h3>
                </div>
                <!--  品質欄 -->
                <div class="fabric_size">
                    <div class="fabric">
                        <p class="material">FABRIC</p>
                        <!-- 品質詳細 -->
                        <p>綿:75% , 麻:25%</p>
                    </div>
                    <!-- サイズ欄 -->
                    <div class="size">
                        <P class="material">SIZE</P>
                        <!-- サイズ表記 -->
                        <P>着丈:55/59cm , 袖丈:24cm , 肩幅:54cm , アームホール:21cm , 裾幅:55cm</P>
                    </div>
                </div>
            </header>
            <!-- 商品動画 -->
            <main>
                <video src="movies/2709813_l.mov" controls autoplay loop muted width="750">
            </main>
            <footer>
                <div class="item">
                    <div class="color_nav">
                        <h4>Color Variation</h4>
                        <div>身長 160cm</div>
                    </div>
                    <div class="item_color">
                        <img src="img/92101-1.jpg" alt="商品カラー">
                        <img src="img/92101-2.jpg" alt="商品カラー">
                        <img src="img/92101-3.jpg" alt="商品カラー">
                        <img src="img/92101-4.jpg" alt="商品カラー">
                    </div>
                </div>
                <div class="chat">
                    <P class="chat_koment">商品に関するお問い合わせは、下記チャットよりお客様共有させて頂きます。</P>
                    <!-- 入力場所 -->
                    <label for="name">name</label>
                    <input class="name" placeholder="ニックネーム可" type="text" id="name_4">
                    <textarea name="" placeholder="お問い合わせ内容を入力して下さい。" class="text" id="text_4" cols="65"
                        rows="1"></textarea>
                    <button class="send" id="send_4">▶</button>
                    <!-- データ出力場所 -->
                    <div class="output" id="output_4" style="overflow: auto;height: 180px;"></div>
                </div>
                </div>
            </footer>
        </section>
    </container>

    <script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.1.2/firebase-app.js";
        import { getDatabase, ref, push, set, onChildAdded, remove, }
            from "https://www.gstatic.com/firebasejs/9.1.2/firebase-database.js";

        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries

        // Your web app's Firebase configuration
        const firebaseConfig = {
            apiKey: "",
            authDomain: "sample-edca6.firebaseapp.com",
            projectId: "sample-edca6",
            storageBucket: "sample-edca6.appspot.com",
            messagingSenderId: "135039097654",
            appId: "1:135039097654:web:187291e5fba179d0257197"
        };

        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const dbRef = ref(db, "chat");

        $("#send_1").on("click", function () {
            const msg = {
                name_1: $("#name_1").val(),
                text_1: $("#text_1").val(),
            }
            const newPostRef = push(dbRef);
            set(newPostRef, msg);
            $('#text_1').val('');
        });

        onChildAdded(dbRef, function (data) {
            const msg = data.val();
            let h = '<p>';
            h += msg.name_1;
            h += '<br>';
            h += msg.text_1;
            h += '<br>';
            h += '</P>';
            $("#output_1").prepend(h);
        })

        $(".text").on('input', function () {
            if ($(this).outerHeight() > this.scrollHeight) {
                $(this).height(1)
            }
            while ($(this).outerHeight() < this.scrollHeight) {
                $(this).height($(this).height() + 1)
            }
        });
    </script>
</body>

</html>